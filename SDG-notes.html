<!DOCTYPE html>
<html lang="en-US"><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width"><title>综合微分几何讲稿</title><link rel="stylesheet" href="./main.css">
<link rel="stylesheet" href="./typst.css"><link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inria+Sans:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap" rel="stylesheet">

<style>
  body {
    font-family: "Inria Sans", sans-serif;
  }

  pre,
  code {
    font-family: monospace;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: "Inria Sans", sans-serif;
  }

  nav {
    font-family: "Inria Sans", sans-serif;
  }

  thead {
    font-family: "Inria Sans", sans-serif;
  }
</style><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css"
  integrity="sha384-zh0CIslj+VczCZtlzBcjt5ppRcsAmDnRem7ESsYwWwg3m/OaJ2l4x7YBZl9Kxxib" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.js"
  integrity="sha384-Rma6DA2IPUwhNxmrB/7S3Tno0YY7sFu9WSYMCuulLhIqYSGZ2gKCJWIqhBWqMQfh" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/contrib/auto-render.min.js"
  integrity="sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/contrib/copy-tex.min.js"
  integrity="sha384-HORx6nWi8j5/mYA+y57/9/CZc5z8HnEw4WUZWy5yOn9ToKBv1l58vJaufFAn9Zzi" crossorigin="anonymous"></script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    renderMathInElement(document.body, {
      delimiters: [
        { left: '$$', right: '$$', display: true },
        { left: '$', right: '$', display: false },
        { left: '\\(', right: '\\)', display: false },
        { left: '\\[', right: '\\]', display: true }
      ],
      strict: false,
      throwOnError: false,
      minRuleThickness: 0.05,
    });
  });
</script></head><body><header class="header"><nav class="nav"><div class="logo"><span onclick="window.location.href='./index.html'" title="单纯百科 Simplopedia">« 单纯百科 Simplopedia</span></div></nav></header><div id="grid-wrapper"><article><section class="block" data-taxon="notes"><details open><summary id="SDG-notes"><header><h1><span class="taxon"><span class="link local"><a href="./notes.html" title="讲稿, 笔记 [notes]">notes</a></span></span>综合微分几何讲稿 <a class="slug" href="./SDG-notes.html">[SDG-notes]</a></h1><div class="metadata"><ul><li class="meta-item"><span class="link local"><a href="./SimplicialCat.html" title="单纯猫 [SimplicialCat]">SimplicialCat</a></span></li></ul></div></header></summary>
<p>这一系列是我 2023 年 7 月参加国际基础科学大会期间, 住在集贤山庄时, 与同学们交流所写的讲稿.</p>
<ul>
<li><span class="link local"><a href="./SDG-0-SIAM.html" title="综合微分几何 (0) 光滑无穷小分析的模型 [SDG-0-SIAM]">综合微分几何 (0) 光滑无穷小分析的模型</a></span></li>
<li><span class="link local"><a href="./SDG-1-D.html" title="综合微分几何 (1) 无穷小与微分 [SDG-1-D]">综合微分几何 (1) 无穷小与微分</a></span></li>
<li><span class="link local"><a href="./SDG-2-int.html" title="综合微分几何 (2) 序结构与积分 [SDG-2-int]">综合微分几何 (2) 序结构与积分</a></span></li>
<li><span class="link local"><a href="./SDG-3-man.html" title="综合微分几何 (3) 流形与微线性对象 [SDG-3-man]">综合微分几何 (3) 流形与微线性对象</a></span></li>
<li><span class="link local"><a href="./SDG-4-tan.html" title="综合微分几何 (4) 切向量场 [SDG-4-tan]">综合微分几何 (4) 切向量场</a></span></li>
<li><span class="link local"><a href="./SDG-4-Weil.html" title="综合微分几何 (4.5) Weil 代数与形式平展性 [SDG-4-Weil]">综合微分几何 (4.5) Weil 代数与形式平展性</a></span></li>
<li><span class="link local"><a href="./SDG-5-diff.html" title="综合微分几何 (5) 微分形式, 流与 Stokes 定理 [SDG-5-diff]">综合微分几何 (5) 微分形式, 流与 Stokes 定理</a></span></li>
</ul>
</details></section><footer><section class="block"><details open><summary><header><h1>Backlinks</h1></header></summary><section class="block" data-taxon="notes"><details ><summary id="SDG-0-SIAM"><header><h1><span class="taxon"><span class="link local"><a href="./notes.html" title="讲稿, 笔记 [notes]">notes</a></span></span>综合微分几何 (0) 光滑无穷小分析的模型 <a class="slug" href="./SDG-0-SIAM.html">[SDG-0-SIAM]</a></h1><div class="metadata"><ul><li class="meta-item"><span class="link local"><a href="./SimplicialCat.html" title="单纯猫 [SimplicialCat]">SimplicialCat</a></span></li></ul></div></header></summary><p>主目录: <span class="link local"><a href="./SDG-notes.html" title="综合微分几何讲稿 [SDG-notes]">综合微分几何讲稿</a></span></p>
<p>本文参考 Ieke Moerdijk, Gonzalo E. Rayes, <em>Models for Smooth Infinitesimal Analysis</em>.</p>
<h2>Riemann 的哲学与流形的缺陷</h2>
<p>现代几何学公认的起源是 Riemann 1854 年的演讲 “几何学的基本假设”. 在这次演讲中, Riemann 的目标是在哲学层面上阐述 “多向延展量” (mehrfach ausgedehnter Grössen), 也即构造作为几何对象的 “多样体” (Mannigfaltigkeiten).</p>
<p>现代的人们通常认为 Riemann 的目标是今天所谓的流形 (manifold), 但实际上 Riemann 考虑的对象更广. 他讲道,</p>
<blockquote>
<p>然而有些多样体中, 确定一个点的位置所需的不是有限个数, 而是一列无限多个数, 甚至是一个连续的流形那么多个数. 这种多样体的例子如一个区域上的所有可能的函数, 或一个物体的所有可能形状等等. (Bernhard Riemann, <em>Ueber die Hypothesen, welche der Geometrie zu Grunde liegen</em>)</p>
</blockquote>
<p>现代的流形概念在几何与物理上常常表现出缺陷.</p>
<ul>
<li>流形范畴不是 Descartes 闭的. 流形之间的映射空间常常不是流形, 这正是 Riemann 所描述的情况, 而物理上常常需要研究映射空间;</li>
<li>流形范畴缺少有限极限. 特别地, 流形映射的拉回常常不是流形. 例如有奇点的代数曲线不是流形, 这导致微分几何与代数几何走上了不同的道路, 其使用的方法不能互通.</li>
<li>流形中缺少一种方便直接的方式处理无穷小的结构. 人们通常只能通过积分将无穷小结构转化为局部结构来处理, 然后再通过极限过程回到无穷小. 这实在是不必要的麻烦.</li>
</ul>
<p>从 Berkeley 大主教对微积分的批判开始, 无穷小似乎被逐出了数学的大雅之堂. 尽管如此, 它仍被许多几何学家用作思维的工具, 其中最著名的是 Sophus Lie 和 Elie Cartan; 虽然缺乏合适的语言, 他们的工作已经体现出综合微分几何的思想. Sophus Lie 对他建立的 Lie 理论评论道,</p>
<blockquote>
<p>我最初是通过综合的考虑建立这些理论的. 但我很快意识到, 综合方法固然有助于发现问题, 但它很难对几乎只通过解析方法进行探究的对象进行清晰的叙述. 在长时间的犹豫之后, 我决定采用半综合半解析的形式. 我希望我的工作可以为综合方法带来正当的理论地位, 并与解析方法同等重要. (Sophus Lie, <em>Allgemeine Theorie der partiellen Differentialgleichungen erster Ordnung</em>, Math. Ann. 9 (1876).)</p>
</blockquote>
<p>而 Elie Cartan 则用无穷小平行四边形来解释外微分的运算. 这种解释在物理学家和工程师群体中十分流行.</p>
<p>(给熟悉非标准分析的读者: 事实上有两种不同的无穷小, 一种是可逆的无穷小, 一种是幂零的无穷小. 非标准分析处理了可逆的无穷小, 而 Grothendieck 在代数几何中使用了幂零的无穷小. 综合微分几何表达切向量, 微分形式, 联络等概念使用的是与 Grothendieck 类似的幂零的无穷小.)</p>
<h2>光滑无穷小分析简介</h2>
<p>分析学与微分几何一条新的道路, “光滑无穷小分析” (smooth infinitesimal analysis), 同时克服了上面的三个缺陷. 它的基础是光滑意象 (smooth topos). 光滑意象的构造证明了综合微分几何公理化方法的相容性, 而且提供了与传统流形理论的直接联系.</p>
<p>代数几何中, 概形是仿射概形范畴上的层, 而仿射概形范畴是环范畴的形式对偶. 如果我们将环范畴改为光滑环范畴, 用同样的过程就会得到微分几何的模型.</p>
<h2>光滑环</h2>
<p>光滑环又称 $C^\infty$-代数, 是流形上光滑函数环的推广. 设想这样一种空间 $X$, 我们对这个空间仅有的了解, 就是其上的光滑函数, 即 $X$ 到 $\mathbb{R}$ 的 “光滑” 映射 (这个光滑性尚未定义, 或者说这个结构本身就是它的定义). 这种光滑性应当满足如下的条件.</p>
<ul>
<li>$X$ 上的光滑函数构成一个 $\mathbb{R}$-代数;</li>
<li>对 $X$ 上的任意 $n$ 个光滑函数 $f_1,\cdots,f_n$ (也即 $X$ 到 $\mathbb{R}^n$ 的光滑映射), 以及任意光滑映射 $F \colon \mathbb{R}^n \to \mathbb{R}^m$, 存在合理的 “复合” 映射 $F(f_1,\cdots,f_n)$, 它是 $X$ 上的 $m$ 个光滑函数, 也即 $X$ 到 $\mathbb{R}^m$ 的光滑映射, 并且这样的 “复合” 有合理的结合律.</li>
</ul>
<p>这解释了如下的定义.</p>
<p><strong>定义</strong>. 光滑环是这样一个环 $A$: 对任意光滑映射 $F \colon \mathbb{R}^n \to \mathbb{R}^m$, 有一个环同态 $A(F) \colon A^n \to A^m$, 使得 $A(\pi_i) = \pi_i$ ($\pi_i$ 为投影映射), $A(\operatorname{id})=\operatorname{id}$, $A(F \circ G) = A(F) \circ A(G)$.</p>
<p>光滑环的另一种理解是一个不仅允许多项式运算 (加法, 乘法等等), 而且允许任意光滑运算 (如 exp, arctan) 的代数结构.</p>
<p>我们采用 <span class="link external"><a href="https://ncatlab.org/nlab/show/C%5E%E2%88%9E-ring" title="nLab [https://ncatlab.org/nlab/show/C%5E%E2%88%9E-ring]">nLab</a></span> 的记号, 用 $\mathsf{CartSp}$ 表示光滑流形范畴中由 $\mathbb{R}^n\,(n=0,1,2,\cdots)$ 构成的满子范畴. 那么光滑环可等价地定义为 $\mathsf {CartSp}$ 上保持乘积的余预层 (co-presheaf), 也即保持乘积的函子 $\mathsf {CartSp} \to \mathsf {Set}$. 由此可见, 光滑环的形式对偶即是 $\mathsf {CartSp}$ 上的某些预层 (presheaf).</p>
<blockquote>
<p>这个范畴 $\mathsf {CartSp}$ 又称为光滑代数的 Lawvere 理论的句法范畴 (syntactic category, 见 <span class="link external"><a href="https://ncatlab.org/nlab/show/syntactic+category" title="nLab [https://ncatlab.org/nlab/show/syntactic+category]">nLab</a></span>.) 这是因为光滑环也可视作一种 Lawvere 理论, 见 <span class="link external"><a href="https://ncatlab.org/nlab/show/algebra+over+a+Lawvere+theory" title="nLab [https://ncatlab.org/nlab/show/algebra+over+a+Lawvere+theory]">nLab</a></span>.</p>
</blockquote>
<p>光滑环 $A \colon \mathsf {CartSp} \to \mathsf {Set}$ 的底层集合 (underlying set) 是指 $A(\mathbb{R})$, 也即环 $A$ 的底层集合.</p>
<p><strong>练习</strong>. 描述光滑环的同态.</p>
<p>使用函子的语言, 光滑环的同态不过是一个自然变换.</p>
<p>下面来看几个例子.</p>
<p><strong>例</strong>. 如下三个环是光滑环.</p>
<ol>
<li>$\mathbb{R}[x]/(x^2)$ 是光滑环.</li>
<li>形式幂级数环 $\mathbb{R}[[x]]$ 是光滑环.</li>
<li>一点 $0\in\mathbb{R}$ 处的光滑函数芽构成的环是光滑环.</li>
</ol>
<p>事实上, 上述三个例子都是光滑函数环的商环:</p>
<ol>
<li>$\mathbb{R}[x]/(x^2)$ 同构于 $C^\infty (\mathbb{R})/(x^2)$, 也即 $C^\infty (\mathbb{R})$ 商掉 $0$ 处零至二阶导数为 $0$ 的函数,</li>
<li>$\mathbb{R}[[x]]$ 同构于 $C^\infty (\mathbb{R})$ 商掉 $0$ 处各阶导数都为 $0$ 的函数 (这是因为 Taylor 展开),</li>
<li>$0$ 处光滑函数芽构成的环同构于 $C^\infty (\mathbb{R})$ 商掉那些在 $0$ 的一个邻域内恒为 $0$ 的函数. (这是因为, 每个函数芽都可延拓为整个 $\mathbb{R}$ 上的光滑函数)</li>
</ol>
<p>这三个环依次对应越来越小的理想, 在几何上对应越来越大的 “无穷小邻域”. 高维的情形是完全类似的.</p>
<p><strong>命题</strong>. 设 $A$ 为光滑环, $I\subset A$ 为 (普通意义下的) 理想, 那么投影 $A \to A/I$ 诱导了 $A/I$ 上的光滑环结构, 使得投影为光滑环同态.</p>
<p><strong>证明</strong>. 为了证明光滑运算的良定性, 我们需要说明当 $a_i \equiv b_i \mod I\,(1\leq i \leq n)$ 时有 $A(F)(a_1,\cdots,a_n)\equiv A(F)(b_1,\cdots,b_n)\mod I$.</p>
<p><strong>例</strong>. 对任意子集 $X \subset \mathbb{R}^n$ (是真的集合论意义下的子集), 我们可定义一个光滑环 $C^\infty (X)$, 其元素是 $X$ 到 $\mathbb{R}$ 的光滑映射: 光滑是指可以延拓为开集上的光滑函数.</p>
<p>下面列举光滑环范畴许多好的性质.</p>
<p><strong>命题</strong>. 光滑环范畴的极限和余极限等同于底层集合的极限和余极限.</p>
<p><strong>命题</strong>. 设 $M$ 是流形, 那么 $C^\infty (M)$ 是有限表现 (finitely presented) 的, 也即形如 $C^\infty (\mathbb{R}^n)/I$, 其中 $I$ 为有限生成理想.</p>
<p><strong>定理</strong>. 流形范畴到光滑环范畴的反变函子 $M \mapsto C^\infty (M)$ 是全忠实的, 且将横截相交的拉回变为推出.</p>
<h2>处所</h2>
<p>我们来到光滑环几何的一面.</p>
<p><strong>定义</strong> (处所). 定义处所 (locus, loci) 的范畴 $\mathbb L$ 为有限生成光滑环范畴的对偶范畴. 记光滑环 $A$ 对应的处所为 $\ell A$.</p>
<p><strong>定义</strong>. 令 $R = \ell C^\infty (\mathbb{R})$, $D = \ell \big(C^\infty (\mathbb{R}) / (x^2)\big)$.</p>
<p>这两个对象是综合微分几何的开端.</p>
<p>上面关于流形范畴嵌入的命题可翻译为如下更加直观的命题.</p>
<p><strong>命题</strong>. 流形范畴到处所范畴的函子 $M \mapsto \ell C^\infty (M)$ 是全忠实的, 且保持横截相交的拉回.</p>
<p>使用简单的微分几何, 我们可以证明如下命题.</p>
<p><strong>命题</strong>. 设 $M$ 为流形, 则
$$
\big(\ell C^\infty (M)\big)^D \simeq \ell C^\infty (TM).
$$</p>
<p>这说明 $D$ 到 $M$ 的映射表示了 $M$ 的切向量!</p>
<h2>延伸阅读</h2>
<p>有一个 <span class="link external"><a href="https://mathoverflow.net/q/8537" title="MathOverflow 问题 [https://mathoverflow.net/q/8537]">MathOverflow 问题</a></span>探讨了综合微分几何的模型与传统微分几何的关系.</p>
<p>关于这本书的 <span class="link external"><a href="https://ncatlab.org/nlab/show/Models+for+Smooth+Infinitesimal+Analysis" title="nLab 页面 [https://ncatlab.org/nlab/show/Models+for+Smooth+Infinitesimal+Analysis]">nLab 页面</a></span>包含一些有用的信息.</p>
</details></section><section class="block" data-taxon="notes"><details ><summary id="SDG-1-D"><header><h1><span class="taxon"><span class="link local"><a href="./notes.html" title="讲稿, 笔记 [notes]">notes</a></span></span>综合微分几何 (1) 无穷小与微分 <a class="slug" href="./SDG-1-D.html">[SDG-1-D]</a></h1><div class="metadata"><ul><li class="meta-item"><span class="link local"><a href="./SimplicialCat.html" title="单纯猫 [SimplicialCat]">SimplicialCat</a></span></li></ul></div></header></summary><p>主目录: <span class="link local"><a href="./SDG-notes.html" title="综合微分几何讲稿 [SDG-notes]">综合微分几何讲稿</a></span></p>
<p>综合微分几何是将综合数学 (synthetic mathematics) 的思想应用于微分几何的结果. 本文参考 A. Kock 的奠基性作品 <em>Synthetic Differential Geometry</em>, 以及 R. Lavendhomme, <em>Basic Concepts of Synthetic Differential Geometry</em>.</p>
<blockquote>
<p>按照我目前的理解, 综合数学的出发点不是一个对象怎样构造, 而是它应当满足什么性质. 当然我们最终还是需要给出一个构造 (模型).</p>
<p>以下引用框中的内容是我的评注. 评注可能不准确, 初学者不妨跳过.</p>
</blockquote>
<p>本文的前置知识是基础的微积分.</p>
<h2>直线的结构</h2>
<p>综合微分几何的基础是直线 $R$. $R$ 上的点也称为数, 数可以相加减, 相乘, 但不一定可以相除. 使用 $R$ 这个字母是为了让人联想起经典几何中使用的实数域 $\mathbb{R}$. 之所以不规定数可以相除, 是因为我们希望 $R$ 中存在这样一些元素, 它不是 $0$, 但它的平方等于 $0$. 这就是所谓无穷小.</p>
<blockquote>
<p>初学者可以跳过这段评注 (下面我们将省略这句话). $R$ 是一个意象 (topos) $\mathcal E$ 中的环对象. 意象是一种性质类似于集合范畴的范畴, 其中有一种内语言 (internal language) 使得我们可以 “假装” 所谈论的对象是集合, 而态射是集合的映射. 综合微分几何从头到尾都使用这种语言. 特别地, 我们可以 “假装” $R$ 是一个普通的环. 另外, 以下我们将用 “空间” (甚至 “集合”) 来指 $\mathcal E$ 的对象, “(光滑) 映射” 指 $\mathcal E$ 的态射.</p>
</blockquote>
<p>综合微分几何一个重要的对象是 “原点的无穷小邻域” $D$. 定义
$$
D = \{x \in R \colon x^2 = 0\}.
$$
$D$ 中的元素是那些 “如此小以至于其平方等于零” 的数.</p>
<p>由定义, $D$ 有如下的性质.</p>
<ul>
<li>$D$ 关于数乘封闭: 对任意 $d\in D$, $x\in R$, 有 $d\cdot x \in D$.</li>
<li>$D$ 关于加法不封闭: 对于 $d_1,d_2\in D$, $d_1+d_2$ 落在 $D$ 中当且仅当 $d_1d_2 = 0$.</li>
</ul>
<blockquote>
<p>$D$ 的定义式的实际含义如下. 由环对象的定义我们有乘法映射 $\mu \colon R\times R \to R$ 与 “零元” $0_R \colon 1 \to R$. 记 $\Delta \colon R \to R \times R$ 为对角映射. 考虑映射 $0 = 0_R \circ 1$ 以及平方映射 $(-)^2 = \mu \circ \Delta$. $D$ 是两个映射 $0$ 与 $(-)^2$ 的等化子 (equalizer). 另外, 借用代数几何的语言, 我们可将之记为 “仿射 $R$-概形” $\operatorname{spec}_R(R[x]/(x^2))$.</p>
</blockquote>
<p>对于一条曲线, 当我们观察它很小的局部, 它近乎是一条直线. 对于一个函数, 当我们观察它在无穷小邻域 $D$ 上的行为, 它近乎是线性函数. 我们需要一条公理来表达这种直观.</p>
<p><strong>公理</strong> (Kock–Lawvere). 对任意映射 $f \colon D \to R$, 存在唯一的 $a,b \in R$, 使得
$$
f(d) = a + d \cdot b,\quad \forall d\in D.
$$</p>
<p>换言之, $D$ 是如此之小, 以至于 $D$ 到 $R$ 的任何映射都是一次函数; 换言之, 可延拓为 $R$ 到 $R$ 的一次函数. 后面我们将简记这条公理为 K-L 公理.</p>
<p>如下的例子或许可帮助理解 $D$ 的形状.</p>
<p><strong>例</strong>. 平面 $R^2$ 上的直线 $y=0$ 与圆 $x^2 + (y-1)^2 = 1$ 的交集是 $D$. 这是因为将 $y=0$ 代入圆的方程, 就得到 $x^2 + 1 = 1$, 也即 $x^2 = 0$. 直观上, 直线与圆相切, 两者在相切处共有一条无穷小的线段. 更一般地, 任意两条相切的曲线都共有一条形如 $D$ 的无穷小线段, 这便是两条曲线共同的切向量.</p>
<p>K-L 公理可理解为一阶 Taylor 公式.</p>
<p><strong>定理</strong> (一阶 Taylor 公式). 对任意映射 $f \colon R \to R$, 存在映射 $f' \colon R \to R$ 满足
$$
f(x+d) = f(x) + d \cdot f'(x),\quad \forall x\in R\,\forall d\in D.
$$
称 $f'$ 为 $f$ 的导函数. 我们发现, “任何函数都是可导的”, 而且可以归纳地定义 $k$ 阶导数 $f^{(k)}(x)$.</p>
<blockquote>
<p>成熟的读者可能感到逻辑上的不适. 这是因为, 为了研究综合微分几何, 我们采用一种没有排中律的直觉主义逻辑, 即意象 $\mathcal{E}$ 的内语言. 本文并非逻辑完整的, 但读者可考虑如下的例子来体会. 假若排中律成立, 我们就可以定义显然不可导的函数 $f(x) = \begin{cases} 1 &amp; x = 0\\0 &amp; x\neq 0 \end{cases}$, 而且存在 $d_0 \in D$ 使得 $d_0 \neq 0$, 那么 $0 = f(d_0) = f(0) + d_0 f'(0) = 1 + d_0$, 这导致 $1=0$.</p>
</blockquote>
<p><strong>定理</strong> (Leibniz 法则). 对任意映射 $f,g \colon R \to R$, $(fg)' = f'g + fg'$.</p>
<p>这是因为对任意 $d\in D$,
$$
\begin{aligned}
    &amp;f(x+d)g(x+d)\\
    &amp;= (f(x) + d\cdot f'(x))
    (g(x) + d\cdot g'(x))\\
    &amp;=f(x)g(x) + d\cdot (f'(x)g(x) + f(x)g'(x)).
\end{aligned}
$$
(注意由于 $d^2 = 0$, 二阶项消失了.)</p>
<p>高阶 Taylor 公式需要高阶无穷小邻域. 定义
$$
D_k = \{ x \in R \colon x^{k+1} = 0 \}.
$$</p>
<blockquote>
<p>类似地, $D_k = \operatorname{spec}_R(R[x]/(x^{k+1}))$.</p>
</blockquote>
<p>很明显我们有包含关系 $\{0\} \subset D \subset D_2 \subset D_3 \subset\cdots$. 直观上, 更大的无穷小邻域能够体现更高阶 Taylor 展开的信息. 为了表达这种直观, 我们需要配套的公理.</p>
<p><strong>公理</strong>. 对任意映射 $f \colon D_k \to R$, 存在唯一的 $a_0, \cdots, a_k \in R$ 使得
$$
f(x) = a_0 + a_1 d + \cdots + a_k d^k,\quad \forall d\in D_k.
$$</p>
<p>换言之, $D_k$ 到 $R$ 的映射可唯一地延拓为 $R$ 上不超过 $k$ 次的多项式映射.</p>
<p><strong>定理</strong> (Taylor 公式). 对任意映射 $f \colon R \to R$,
$$
f(x+\delta) = f(x)+\delta f'(x)+\cdots+ \frac{\delta^k}{k!}f^{(k)}(x),\,\forall \delta\in D_k.
$$</p>
<p>讨论完了一元微分学, 我们进入二元微分学. 对任意函数 $f \colon R^2 \to R$, 如下定义 $\dfrac{\partial f}{\partial x_1}$: 对 $d\in D$,
$$
f(x_1+d,x_2) = f(x_1,x_2) + d\cdot \frac{\partial f}{\partial x_1}(x_1,x_2)
$$
若 $f$ 仅在一个区域 $U \subset R^2$ 上定义, 那么 $\dfrac{\partial f}{\partial x_1}$ 的定义域是 $\{(x_1,x_2) \colon (x_1+d,x_2)\in U\,\forall d\in D\}$.</p>
<p>对两个量 $d_1,d_2 \in D$,
$$
\begin{aligned}
    &amp;f(x_1+d_1,x_2+d_2)\\
    &amp;= f(x_1,x_2) + d_1 \frac{\partial f}{\partial x_1}(x_1,x_2) + d_2 \frac{\partial f}{\partial x_2}(x_1,x_2) \\&amp;\quad + d_1d_2 \frac{\partial^2 f}{\partial x_1\partial x_2}(x_1,x_2).
\end{aligned}
$$
由此, 偏导是交换的.</p>
<p>“无穷小方块” $D\times D \subset R^2$ 满足如下 “性质 W”. 对任意 $f \colon D\times D \to R$, 假设 $f(0,d) = f(d,0) = 0\,\forall d\in D$, 则存在唯一的 $t \in R$, 使得
$$
f(d_1,d_2) = td_1d_2\quad \forall d_1,d_2\in D.
$$</p>
<blockquote>
<p>“性质 W” 中的 W 代表 Weil 代数, 也即 $R[x_1,\cdots,x_n]/(f_1,\cdots,f_m)$.</p>
</blockquote>
<p>让我们思考这样一个问题. 二维平面 $R^2$ 中原点的 “一阶无穷小邻域” 是 $D\times D$ 吗?</p>
<p>所谓一阶无穷小邻域就是一个 “很小” 的邻域, 以至于其上的函数有且只有一次函数.
但是我们看到, $D\times D$ 上不仅有一次函数, 还可能存在着 $f(d_1,d_2) = d_1d_2$ 这样的函数.</p>
<p>这启发我们, 那个一阶无穷小邻域不是 $D\times D$, 而是
$$
\{(x,y)\in R^2 \colon  x^2=y^2=xy=0\}.
$$
我们把它记作 $D(2)$.
很明显, $D(2)$ 包含于 $D\times D$.</p>
<p>对 “自然性” 敏感的读者会注意到, $D(2)$ 的内蕴刻画是其上任意两个线性函数的乘积都消失, 因此它不依赖于坐标, 也即在线性同构下不变 — 这也是它有资格作为一阶无穷小邻域的原因之一.</p>
<p>自然地, $R^n$ 中原点的一阶无穷小邻域就是
$$
D(n) = \{(x_1,\cdots,x_n) \in R^n \colon x_ix_j = 0\forall i,j\}.
$$</p>
<blockquote>
<p>可以设想, 高维空间中会有更复杂的无穷小邻域 $\operatorname{spec}_R\big(R[x_1,\cdots,x_n]/(f_1,\cdots,f_m)\big)$, 以及配套的性质 W. 这里暂略.</p>
</blockquote>
<p>下文: <span class="link local"><a href="./SDG-2-int.html" title="综合微分几何 (2) 序结构与积分 [SDG-2-int]">综合微分几何 (2) 序结构与积分</a></span></p>
</details></section><section class="block" data-taxon="notes"><details ><summary id="SDG-2-int"><header><h1><span class="taxon"><span class="link local"><a href="./notes.html" title="讲稿, 笔记 [notes]">notes</a></span></span>综合微分几何 (2) 序结构与积分 <a class="slug" href="./SDG-2-int.html">[SDG-2-int]</a></h1><div class="metadata"><ul><li class="meta-item"><span class="link local"><a href="./SimplicialCat.html" title="单纯猫 [SimplicialCat]">SimplicialCat</a></span></li></ul></div></header></summary><p>主目录: <span class="link local"><a href="./SDG-notes.html" title="综合微分几何讲稿 [SDG-notes]">综合微分几何讲稿</a></span></p>
<p>上文: <span class="link local"><a href="./SDG-1-D.html" title="综合微分几何 (1) 无穷小与微分 [SDG-1-D]">综合微分几何 (1) 无穷小与微分</a></span></p>
<p>为了叙述积分我们最好使用区间的概念, 而这需要直线上的序结构.</p>
<p><strong>公理</strong> (序关系). $R$ 上存在预序关系 (preorder) $\leq$ 满足如下性质.</p>
<ul>
<li>传递性: 若 $x\leq y$, $y\leq z$, 则 $x\leq z$;</li>
<li>自反性: $x\leq x$;</li>
<li>与环结构相容:
<ul>
<li>若 $x\leq y$, 则 $x+z \leq y+z$;</li>
<li>若 $x\leq y$, $0\leq t$, 则 $x\cdot t \leq y\cdot t$;</li>
<li>$0\leq 1$ 且非 $1 \leq 0$;</li>
<li>对于 $R$ 的幂零元 $d$, 有 $0\leq d$ 且 $d\leq 0$.</li>
</ul>
</li>
</ul>
<p>注意我们不假设 $x\leq y$ 与 $y\leq x$ 能够推出 $x=y$.
这是由于公理的最后一条.
另外, 由于缺少排中律, 我们需要额外假设 $1\leq 0$ 不成立.</p>
<p><strong>定义</strong>. $R$ 上的区间 $[a,b]$ 定义为
$$
[a,b] = \{ x\in R \colon a\leq x \leq b\}.
$$</p>
<p>容易看到对于 $x\in [a,b]$ 以及幂零元 $d$ 有 $x+d \in [a,b]$. 因此, 对于区间 $[a,b]$ 上定义的函数, 其导数也可在 $[a,b]$ 上定义.</p>
<p><strong>公理</strong>. (积分) 对任意映射 $f \colon [0,1] \to R$, 存在唯一的映射 $g \colon [0,1] \to R$ 满足 $g(0) = 0$, 且 $g' = f$. 对 $x\in [0,1]$, 定义 $\displaystyle \int_0^x f(t)\,dt := g(x)$.</p>
<p>由上述公理中的唯一性立刻得到如下命题.</p>
<p><strong>命题</strong>. 若 $g_1,g_2\colon [0,1] \to R$ 满足 $g_1'=g_2'$, $g_1(0)=g_2(0)$, 则 $g_1=g_2$.</p>
<p><strong>定理</strong> (“积分号下求导”). 设 $f\colon [0,1] \times R \to R$. 定义
$$
g(s) = \int_0^1 f(t,s)\,dt,
$$
那么
$$
g'(s) = \int_0^1 \frac{\partial f}{\partial s}(t,s)\,dt.
$$</p>
<p><strong>证明</strong>. 对任意 $d\in D$,
$$
\begin{aligned}
  g(s+d) &amp;= \int_0^1 f(t,s+d)\,dt\\
  &amp;= \int_0^1 \Big(f(t,s) + d\cdot \frac{\partial f}{\partial s}(t,s)\Big)\,dt\\
  &amp;=g(s) + d\cdot\int_0^1\frac{\partial f}{\partial s}(t,s)\,dt.
\end{aligned}
$$</p>
<p>积分的公理是对区间 $[0,1]$ 叙述的; 由一个线性的坐标变换, 不难定义任何区间 $[a,b]$ 上的积分:
$$
\int_a^b f(t)\,dt = (b-a) \int_0^1 f(a+t(b-a))\,dt.
$$</p>
<p><strong>命题</strong> (Newton–Leibniz 公式).
$$
\int_a^b f' = f(b) - f(a).
$$</p>
<p><strong>命题</strong>. 设 $\varphi \colon [a,b] \to [c,d]$, 满足 $\varphi(a) = c, \varphi(b) = d$. 设 $f \colon [c,d] \to R$, 那么
$$
\int_c^d f(s)\,ds = \int_a^b f(\varphi(t))\cdot \varphi'(t)\,dt.
$$</p>
<p><strong>证明</strong>. 留作习题.</p>
<p><strong>命题</strong> (“无穷小积分中值公式”). 对任意 $d\in D$,
$$
\int_a^{a+d} f = d\cdot f(a).
$$</p>
<p>下面讨论多元积分.</p>
<p><strong>命题</strong> (Fubini 公式). 设 $f \colon [a_1,b_1] \times [a_2,b_2] \to R$. 那么
$$
\int_{a_1}^{b_1}\int_{a_2}^{b_2}f(t,s)\,dsdt = \int_{a_2}^{b_2}\int_{a_1}^{b_1}f(t,s)\,dtds.
$$</p>
<p><strong>证明</strong>. 定义
$$
g(x) = \int_{a_1}^{x}\int_{a_2}^{b_2}f(t,s)\,dsdt,
$$
$$
h(x) = \int_{a_2}^{b_2}\int_{a_1}^{x}f(t,s)\,dtds,
$$
那么 $g(a_1) = h(a_1) = 0$,
$$
g'(x) = h'(x) = \int_{a_2}^{b_2}f(x,s)\,ds,
$$
故 $g =h$.</p>
<p>下面是一个在数学分析中很简单, 而在当前语境下不那么简单的命题.</p>
<p><strong>命题</strong>. 设 $f \colon R \to R$, 满足 $xf(x) = 0\,\forall x\in R$. 那么 $f(x) = 0\,\forall x\in R$.</p>
<p><strong>证明</strong>. 留作习题. 答案见下文.</p>
<p>下文: <span class="link local"><a href="./SDG-3-man.html" title="综合微分几何 (3) 流形与微线性对象 [SDG-3-man]">综合微分几何 (3) 流形与微线性对象</a></span></p>
</details></section><section class="block" data-taxon="notes"><details ><summary id="SDG-3-man"><header><h1><span class="taxon"><span class="link local"><a href="./notes.html" title="讲稿, 笔记 [notes]">notes</a></span></span>综合微分几何 (3) 流形与微线性对象 <a class="slug" href="./SDG-3-man.html">[SDG-3-man]</a></h1><div class="metadata"><ul><li class="meta-item"><span class="link local"><a href="./SimplicialCat.html" title="单纯猫 [SimplicialCat]">SimplicialCat</a></span></li></ul></div></header></summary><p>主目录: <span class="link local"><a href="./SDG-notes.html" title="综合微分几何讲稿 [SDG-notes]">综合微分几何讲稿</a></span></p>
<p>上文: <span class="link local"><a href="./SDG-2-int.html" title="综合微分几何 (2) 序结构与积分 [SDG-2-int]">综合微分几何 (2) 序结构与积分</a></span></p>
<p>我们从切向量谈起.</p>
<p><strong>定义</strong> (切向量, 切空间, 微分). 空间 $M$ 在 $x$ 处的切向量是一个映射 $t \colon D \to M$, 使得 $t(0) = x$. 记 $TM = M^D$ 为 $M$ 的切丛, 其中 $M^D$ 是 $D$ 到 $M$ 映射的空间; 记 $T_xM$ 为 $x$ 处切向量构成的空间. 对于映射 $f \colon M \to N$ 与 $x\in M$, 定义 $f$ 在 $x$ 处的微分 $d_x f \colon T_xM \to T_{f(x)}N$ 将切向量 $t$ 映射到 $f\circ t$.</p>
<p>切向量的这种定义是非常符合直观的. 它与传统微分几何中考虑的曲线的等价类, 即 “$1$-射流 (jet)”, 是一回事.</p>
<p>不同的是, $D$ 让原本抽象的 $1$-射流成为了一个实在的映射, 也就是让射流函子成为了可表函子 (representable functor), 这个事实有深刻的影响.</p>
<p>例如, 空间 $M$ 上的切向量场可定义为 “切丛的截面” $\sigma \colon M \to TM = M^D$, 满足 $\sigma(x)(0) = x\,\forall x\in M$; 这也等价于映射 $\sigma \colon M \times D \to M$, 满足 $\sigma(x,0) = x\,\forall x \in M$; 这进一步等价于映射 $\sigma \colon D \to M^M$, 满足 $\sigma(0) = \operatorname{id}_M$. 我们立刻看到 $M$ 的切向量场就是 $M^M$ 的切向量.</p>
<p>定义了切向量与切空间, 我们不禁要问切向量如何相加, 也即切空间如何构成线性空间 (这里所说的线性空间都是指 $R$-模). 答案是, 不是每个空间上的切向量都可以相加, 我们需要额外的性质.</p>
<p>传统微分几何中, 流形上切向量的加法是通过局部坐标来定义的; 本质上, 这要求流形在一个微小的局部长得像一个线性空间. 在综合微分几何中不是每个空间都有这样的性质, 因此我们需要如下的概念, 作为 “流形” 的类比.</p>
<p>首先回忆 $D(n) \subset D^n \subset R^n$ 是原点的一阶无穷小邻域. 记 $\iota_i \colon D \to D(n)$ 为第 $i$ 分量的嵌入 $d\mapsto (0,\cdots,d,\cdots,0)$. 另外, 我们将用到对角映射
$$
\Delta \colon D \to D(n), d \mapsto (d,\cdots,d).
$$</p>
<p><strong>定义</strong> (微线性). 空间 $M$ 称为微线性 (microlinear) 或无穷小线性 (infinitesimally linear) 的, 是指对任意正整数 $n$ 和任意点 $x$ 处的 $n$ 个切向量 $t_1,\cdots,t_n \colon D \to M$, 都存在唯一的映射 $l$, 记作 $l_{t_1,\cdots,t_n} \colon D(n) \to M$, 使得
$$
l_{t_1,\cdots,t_n} \circ \iota_i = t_i.
$$
直观上, $n$ 个切向量能够 “张成” 一个 $n$ 维的无穷小空间, 这体现了 $M$ 的微小局部的线性.</p>
<p>使用范畴语言, 微线性的条件可表述为 $M^{D(n)}$ 同构于 $n$-重拉回
$$
M^{D(n)} \simeq M^D \times_M \cdots \times_M M^D.
$$</p>
<blockquote>
<p>微线性的定义中 “对任意” 是意象的内语言. 它真正的 (使用外部语言的) 定义是上面的范畴论等式. 这个性质还可以作进一步的抽象, 与所谓拟余极限 (quasi-colimit) 有关.</p>
</blockquote>
<p><strong>定义</strong> (切向量的加法). 设 $M$ 是微线性对象, $t_1,t_2 \colon D \to M$ 是 $x$ 处的切向量. 定义 $t_1+t_2$ 为如下的复合:
$$
t_1+t_2 \colon D \overset{\Delta}{\longrightarrow} D(2) \overset{l_{t_1,t_2}}{\longrightarrow} M.
$$</p>
<p><strong>命题</strong>. 若 $M$ 是微线性对象, 则 $T_xM$ 是线性空间 ($R$-模).</p>
<p><strong>证明</strong>. 首先, $T_xM$ 的零元是常值映射, 记作 $0 \colon D\to M, d\mapsto x$. 那么由 $l_{t_1,0}$ 的唯一性,
$$
l_{t_1,0}(d_1,d_2) = t_1(d_1).
$$
所以
$$
(t_1+0)(d) = l_{t_1,0}(d,d) = t_1(d),
$$
这说明了 $t_1+0=t_1$.</p>
<p>下面验证结合律. 设 $t_1,t_2,t_3$ 是 $x$ 处的三个切向量.</p>
<p>注意到, 由 $l_{t_1,t_2}$ 的唯一性,
$$
l_{t_1,t_2,t_3}(d_1,d_2,0) = l_{t_1,t_2}(d_1,d_2).
$$
接着, 因为
$$
l_{t_1+t_2,t_3}(d,0)=(t_1+t_2)(d)=l_{t_1,t_2}(d,d) = l_{t_1,t_2,t_3}(d,d,0),
$$
$$
l_{t_1+t_2,t_3}(0,d) = t_3(d) = l_{t_1,t_2,t_3}(0,0,d),
$$
所以由 $l_{t_1+t_2,t_3}$ 的唯一性,
$$
l_{t_1+t_2,t_3}(d,d) = l_{t_1+t_2,t_3}(d,d,d),
$$
$$
\begin{aligned}
    ((t_1+t_2)+t_3)(d) &amp;=
    l_{t_1+t_2,t_3}(d,d)\\
    &amp;=l_{t_1,t_2,t_3}(d,d,d).
\end{aligned}
$$
余下的证明读者可自己补全. $\square$</p>
<p>定义了微线性对象, 我们立刻多了许多事情要做: 哪些空间是微线性的? 从已有的微线性对象出发, 如何构造新的微线性对象?</p>
<p>没有什么比 $R$ 更基础的空间, 因此我们必须先证明</p>
<p><strong>命题</strong>. $R$ 是微线性的.</p>
<p><strong>证明</strong>. 设 $t_i \colon D \to R\,(1\leq i \leq n)$ 是 $a \in R$ 处的切向量. 由 K-L 公理,
$$
t_i(d) = a + d\cdot b_i\,\forall d\in D.
$$
定义 $l \colon D(n) \to R$,
$$
l(d_1,\cdots,d_n) = a + d\cdot\sum_i b_i,
$$
那么 $l \circ \iota_i = t_i$, 存在性得证.
唯一性是 $D(n)$ 的性质 W. $\square$</p>
<p><strong>命题</strong>. 若 $M_1$, $M_2$ 是微线性的, 则 $M_1\times M_2$ 是微线性的; 而且对任意映射 $f,g\colon M_1\to M_2$, 等化子 (equalizer) $\{ m \in M_1\colon f(m) = g(m)\}$ 是微线性的. (熟悉范畴论的读者由此知道, 微线性对象的类在任意有限极限的操作下封闭!)</p>
<p><strong>证明</strong>. 留作习题.</p>
<p>由此, 常见的流形, 即 $R^n$ 中以方程表示的子空间, 都被包含在微线性对象的类中. 不仅如此, 有些方程定义的 “不光滑” 的图形 (代数几何上我们称之为带有奇点的代数簇), 如两条相交的直线
$$
\{(x,y)\in R \colon xy=0\},
$$
也属于微线性对象, 尽管它不是传统意义上的流形. 它在原点处的切空间是
$$
D(2) = \{(d_1,d_2)\in R^2 \colon d_1^2 = d_2^2 = d_1d_2 = 0\}.
$$</p>
<p>更不寻常的是, 微线性对象甚至对指数对象, 也即 “映射空间” 的操作封闭.</p>
<p><strong>命题</strong>. 若 $M$ 是微线性的, 则对任意空间 $X$, 映射空间 $M^X$ 也是微线性的.</p>
<p><strong>证明</strong>. 任给映射 $t \colon D \to M^X$, 我们可将其视为映射 $X \to M^D$. (换言之, $M^X$ 的切向量可视为 $M$ 上以 $X$ “参数化” 的一族切向量!)
由拉回
$$
M^{D(n)} \simeq M^D \times_M \cdots \times_M M^D.
$$
的泛性质我们便得到映射 $X \to M^{D(n)}$,
也即 $D(n) \to M^X$, 满足所需的条件. $\square$</p>
<p>我们看到, 微线性对象的类一视同仁地包括了许多 “无穷维” 的空间.</p>
<p>我们尚未证明切空间的函子性, 也即切映射是线性映射.</p>
<p><strong>命题</strong>. 设 $M,N$ 是微线性对象, 证明对任意映射 $f \colon M \to N$ 与 $x\in M$, 映射
$$
d_xf \colon T_xM \to T_{f(x)}N
$$
是线性映射.</p>
<p><strong>证明</strong>. 留作习题, 答案见后文.</p>
<p>下文: <span class="link local"><a href="./SDG-4-tan.html" title="综合微分几何 (4) 切向量场 [SDG-4-tan]">综合微分几何 (4) 切向量场</a></span></p>
<h2>上节习题答案</h2>
<p><strong>命题</strong>. 设 $f \colon R \to R$, 满足 $xf(x) = 0\,\forall x\in R$. 那么 $f(x) = 0\,\forall x\in R$.</p>
<p><strong>证明</strong>. 对 $xf(x) = 0$ 求导得
$$
f(x) + xf'(x) = 0\,\forall x\in R.
$$
现在考虑 $g(x,y) = xf(xy)$. 因为 $g(0,y)= 0$, 且
$$
\frac{\partial g}{\partial x}(x,y) = f(xy)+xyf'(xy) = 0,
$$
我们得到 $g(1,y)=0$, 也即 $f(y) = 0$.</p>
</details></section><section class="block" data-taxon="notes"><details ><summary id="SDG-4-Weil"><header><h1><span class="taxon"><span class="link local"><a href="./notes.html" title="讲稿, 笔记 [notes]">notes</a></span></span>综合微分几何 (4.5) Weil 代数与形式平展性 <a class="slug" href="./SDG-4-Weil.html">[SDG-4-Weil]</a></h1><div class="metadata"><ul><li class="meta-item"><span class="link local"><a href="./SimplicialCat.html" title="单纯猫 [SimplicialCat]">SimplicialCat</a></span></li></ul></div></header></summary><p>主目录: <span class="link local"><a href="./SDG-notes.html" title="综合微分几何讲稿 [SDG-notes]">综合微分几何讲稿</a></span></p>
<h2>谱</h2>
<p>在数学上, 一个代数的谱是一个与之对应的几何对象. 代数与谱的对应是反变的. 下面的定义来自综合代数几何.</p>
<p><strong>定义</strong>. $R$-代数 $A$ 的谱 $\operatorname{spec}_R A$ (或简记为 $\operatorname{spec}A$) 是 $A$ 到 $R$ 的所有 $R$-代数同态的 “集合”.</p>
<p><strong>注</strong>. $\operatorname{spec}R$ 是一个点. $\operatorname{spec}A$ 的一个点是 $\operatorname{spec}R$ 到 $\operatorname{spec}A$ 的映射, 也即 $A$ 到 $R$ 的代数同态.</p>
<p><strong>例</strong>. 设 $A$ 是有限表现 $R$-代数, 也即 $A$ 同构于某个有限元多项式环商掉一个有限生成理想得到的环:
$$
A \simeq R[x_1,\cdots,x_n]/(f_1,\cdots,f_m).
$$
那么 $\operatorname{spec}A$ 是 $R^n$ 中由方程 $f_1= \cdots =f_m=0$ 确定的子 “集”:
$$
\operatorname{spec}A = \{(x_1,\cdots,x_n)\in R^n \colon  f_1=\cdots=f_m=0\}.
$$</p>
<h2>Weil 代数与 K–L 公理</h2>
<p><strong>定义</strong>. Weil 代数, 又称局部 Artin 代数, 是指形如
$$
W = R \oplus N
$$
的有限维 $R$-代数, 其中投影 $\pi_1\colon W \to R$ 为代数同态, 且 $N = \ker\pi_1$ 的元素都是幂零元.</p>
<p>称 $N$ 为 Weil 代数 $W$ 的增广理想 (ideal of augmentation).</p>
<blockquote>
<p>在几何上, 投影 $\pi_1 \colon W \to R$ 对应着一个点 $\operatorname{spec}R$ 到 $\operatorname{spec}W$ 的嵌入. 将 $W$ 的元素视为 $\operatorname{spec}W$ 上的函数, 那么 $\pi_1$ 即是函数在一点上取值. $\ker\pi_1$ 中的元素都是幂零元, 即在该点上取值为零的函数都是幂零的. 因此 $\operatorname{spec} W$ 是一个点的无穷小加厚 (infinitesimal thickening).</p>
</blockquote>
<p><strong>例</strong>. 我们遇到的第一个 Weil 代数是 $R[x]/(x^2) = R \oplus xR$. 它对应 $R$ 上原点的一阶无穷小邻域 $D$.</p>
<p>用 Weil 代数可以叙述完整的 Kock–Lawvere 公理. 它规定 $\operatorname{spec}W$ 上的函数正是 $W$ 的元素.</p>
<p><strong>公理</strong> (Kock–Lawvere). 对任意 Weil 代数 $W$, 映射
$$
\alpha \colon W \to R^{\operatorname{spec}W}, f\mapsto (x\mapsto f(x))
$$
是一个 $R$-代数同构.</p>
<p><strong>例</strong>. $W=R[x]/(x^2)$, $\operatorname{spec}W=D$, 映射 $\alpha\colon W \to R^D$ 将 $ax+b$ 对应到 $(d\mapsto a\cdot d+b)$.</p>
<p><strong>例</strong>. $W = R[x,y]/(x^2,y^2)$, $\operatorname{spec}W=D\times D$, 映射 $\alpha\colon W \to R^{D\times D}$ 将 $a_{00} + a_{10}x+a_{01}y+a_{11}xy$ 对应到 $\big((d_1,d_2)\mapsto a_{00} + a_{10}d_1 +a_{01}d_2 + a_{11}d_1d_2\big)$.</p>
<h2>平展性</h2>
<p>有时我们想要在几何对象上选取 “局部坐标”.</p>
<p><strong>定义</strong>. 对于一族态射 $\mathcal D$, 称映射 $f \colon M \to N$ 为 $\mathcal D$-平展 (étale) 的, 是指对 $\mathcal D$ 中的任意态射 $j \colon J \to K$, 只要有如下交换图,
$$
\begin{array}
	{ccc}
	J &amp; \overset {j} {\to} &amp; K\\
	\downarrow &amp;&amp; \downarrow\\
	M &amp; \underset {f} {\to} &amp; N
\end{array}
$$
就存在唯一的态射 $l \colon K \to M$ 使下图交换.
$$
\begin{array}
	{ccc}
	J &amp; \overset {j} {\to} &amp; K\\
	\downarrow &amp; \swarrow_l \! &amp; \downarrow\\
	M &amp; \underset {f} {\to} &amp; N
\end{array}
$$</p>
<p><strong>注</strong>. 上述结论的 “范畴” (语义) 表述是, 下图是一个拉回.</p>
<p>$$
\begin{array}
	{ccc}
	M^K &amp; \overset{M^j}{\to} &amp; M^J\\
	\hspace{-2em} f^K\downarrow &amp;&amp; \downarrow f^J \hspace{-1em} \\
	N^K &amp; \underset{N^j}{\to} &amp; N^J
\end{array}
$$</p>
<p><strong>命题</strong>. $\mathcal D$-平展态射的乘积与复合仍是 $\mathcal D$-平展的.</p>
<p>取 $\mathcal D$ 为所有 $1 \to \operatorname{spec}W$ 的态射, $W$ 是 Weil 代数. 此时, $\mathcal D$-平展又称形式平展 (formal-étale).</p>
<p><strong>例.</strong> 含入映射 $D_\infty \to R$ 是形式平展的, 即任意交换图
$$
\begin{array}
	{ccc}
	1 &amp; \to &amp; \operatorname{spec}W\\
	\downarrow &amp;&amp; \downarrow\\
	D_\infty &amp; \to &amp; R
\end{array}
$$
存在分解 $\operatorname{spec}W \to D_\infty$.</p>
<p>传统微分几何中, 流形的局部模型是欧氏空间的开集. 作为类比, 我们有如下定义.</p>
<p><strong>定义</strong> (模型对象). 我们称形式平展单态射 $U \to R^n$ 的定义域 $U$ 为 $n$ 维模型对象 (model object).</p>
<p><strong>定义</strong> (形式流形). 称对象 $M$ 为 $n$ 维形式流形 (formal manifold), 是指存在联合满 (jointly epic) 的一系列形式平展单态射 $U_i \to M$, 且每个 $U_i$ 为 $n$ 维模型对象. 一族态射 $f_i \colon U_i \to M$ 联合满的定义是对任意两个态射 $g,h\colon M\to N$, 只要 $g\circ f_i = h\circ f_i\,\forall i$, 就有 $g=h$. 联合满态射的直观是覆盖.</p>
<p><strong>命题</strong>. 形式流形是微线性的.</p>
</details></section><section class="block" data-taxon="notes"><details ><summary id="SDG-4-tan"><header><h1><span class="taxon"><span class="link local"><a href="./notes.html" title="讲稿, 笔记 [notes]">notes</a></span></span>综合微分几何 (4) 切向量场 <a class="slug" href="./SDG-4-tan.html">[SDG-4-tan]</a></h1><div class="metadata"><ul><li class="meta-item"><span class="link local"><a href="./SimplicialCat.html" title="单纯猫 [SimplicialCat]">SimplicialCat</a></span></li></ul></div></header></summary><p>主目录: <span class="link local"><a href="./SDG-notes.html" title="综合微分几何讲稿 [SDG-notes]">综合微分几何讲稿</a></span></p>
<p>上文: <span class="link local"><a href="./SDG-3-man.html" title="综合微分几何 (3) 流形与微线性对象 [SDG-3-man]">综合微分几何 (3) 流形与微线性对象</a></span></p>
<p>回忆上节我们定义了微线性对象, 也即流形的类比. 我们证明了微线性对象 $M$ 的切空间 $T_xM$ 是线性空间.</p>
<p><strong>定义</strong> (向量丛). 设 $E,M$ 为微线性对象, 映射 $\xi \colon E \to M$ 满足对任意 $x\in M$, $\xi_x = \xi^{-1}(x)$ 为线性空间, 则称 $\xi$ 为向量丛.</p>
<p>两个向量丛 $\xi_1,\xi_2$ 之间的态射是如下的交换图,
$$
\begin{array}
	{ccc}
	E_1 &amp; \overset{\varphi}{\rightarrow} &amp; E_2 \\
	\downarrow &amp;&amp; \downarrow \\
	M_1 &amp; \underset{f}{\rightarrow} &amp; M_2
\end{array}
$$
且 $\varphi_x \colon (\xi_1)_x \to (\xi_2)_x$ 为线性映射.</p>
<p>对向量丛 $\xi \colon E \to M$, 记 $\Gamma(\xi)$ 为其截面的集合. 所谓截面就是一个映射 $s \colon M \to E$, 满足 $\xi\circ s = \operatorname{id}_M$. (回忆, $E^M$ 和 $M^M$ 都是微线性对象, 所以 $\Gamma(\xi)$ 作为两个映射的等化子也是微线性对象.)</p>
<p>向量丛截面的和定义为逐点的和.</p>
<p>$M$ 上的函数可以乘法作用在向量场的截面上, 也即 $\Gamma(\xi)$ 具有 $R^M$-模结构. 对于 $f\in R^M$ 与 $s\in\Gamma(\xi)$, 有 $(f\cdot s)(x) = f(x)s(x)$.</p>
<p>我们提到过, $M$ 上的切向量场可理解为</p>
<ul>
<li>切丛 $TM = M^D \to M$ 的截面;</li>
<li>映射 $X \colon M \times D \to M$, 满足 $X(x,0) = x\,\forall x \in M$;</li>
<li>映射 $X \colon D \to M^M$, 满足 $X(0) = \operatorname{id}_M$.</li>
</ul>
<p>后两种看法体现了切向量场是无穷小的流. 下面的命题更加印证了这一直观:</p>
<p><strong>命题</strong>. 设 $X \colon M\times D \to M$ 是 $M$ 的切向量场, 那么对任意 $(d_1,d_2)\in D(2)$,
$$
X(x,d_1+d_2) = X(X(x,d_1),d_2),
$$
换言之, $X$ 作为映射 $D \to M^M$ 满足
$$
X(d_1+d_2) = X(d_2)\circ X(d_1).
$$</p>
<p><strong>证明</strong>. 当 $d_1=0$ 时 $X(x,0+d_2)=X(X(x,0),d_2)$, 而当 $d_2 = 0$ 时 $X(x,d_1+0) = X(X(x,d_1),0)$, 由定义, 等式成立. 注意到等式两边可视为 $D(2)$ 到 $M$ 的映射, 于是由 $M$ 的微线性性, 等式对任意 $(d_1,d_2)\in D(2)$ 成立. $\square$</p>
<p><strong>推论</strong>. 对 $M$ 上的向量场 $X$ 与 $d\in D$, $X(d) \colon M \to M$ 是自同构 (即可逆映射), 其逆为 $X(-d)$.</p>
<p>记 $M$ 上切向量场的空间为 $\mathcal X(M)$. 正如微分几何的直观, 我们将证明 $\mathcal X(M)$ 同构于 $M$ 的自同构群的切空间. 首先我们定义 $M$ 的自同构群.</p>
<p><strong>定义</strong> (自同构群). 定义 $\operatorname{Aut}(M)$ 为 $M^M$ 中可逆元的集合. 由于有同构
$$
\operatorname{Aut}(M) \simeq \{(f,g) \in M^M\times M^M \colon  g\circ f = f \circ g = \operatorname{id}_M\},
$$
易见 $\operatorname{Aut}(M)$ 是微线性对象.</p>
<p><strong>命题</strong>. $\mathcal X(M) \simeq T_{\operatorname{id}}\operatorname{Aut}(M)$.</p>
<p><strong>证明</strong>. 由于前面的推论, 我们知道两者作为空间同构, 只需要证明两者的线性结构相容, 即证明 $M$ 的切向量场的加法与 $M^M$ 的切向量的加法是一回事. 对 $M^M$ 在 $\operatorname{id}$ 处的两个切向量 $X,Y \colon D \to M^M$, 取其唯一决定的映射 $l \colon D(2) \to M^M$. 那么 (作为 $M^M$ 的切向量) 两者之和为
$$
X + Y \colon D \overset\Delta\to D(2) \overset l \to M^M.
$$
对任意 $x\in M$, 记 $\operatorname{ev}_x \colon M^M \to M$ 为 “在 $x$ 处取值” 的映射, 那么复合 $\operatorname{ev}_x \circ X \colon D \to M$ 即是 $M$ 的切向量 $(X)_x$, 而复合 $\operatorname{ev}_x \circ l \colon D(2) \to M$ 是 $(X)_x$, $(Y)_x$ 唯一决定的映射, 所以
$$
(X+Y)_x \colon D \overset\Delta\to D(2) \overset l \to M^M \overset{\operatorname{ev}_x}{\to} M
$$
正是 $(X)_x$, $(Y)_x$ 的和, 这证明了结论. $\square$</p>
<p>由此, 我们更加有理由将 $M$ 的切向量场与 $M^M$ 在 $\operatorname{id}$ 的切向量等同起来. 有趣的是, 上面提到的映射 $l \colon D(2) \to M^M$ 可以明确地写出来.</p>
<p><strong>命题</strong>. 对于切向量 $X,Y \colon D \to M^M$, 取其唯一决定的映射 $l \colon D(2) \to M^M$, 则对 $(d_1,d_2)\in D(2)$, 有
$$
l(d_1,d_2) = X(d_1) \circ Y(d_2) = Y(d_2) \circ X(d_1),
$$
进而有
$$
(X + Y)(d) = X(d) \circ Y(d) = Y(d) \circ X(d).
$$</p>
<p><strong>证明</strong>. 留作习题.</p>
<p>我们看到, 当 $(d_1,d_2)\in D(2)$ 时, 两个无穷小的流 $X(d_1)$, $Y(d_2)$ 是交换的. 然而, 即使范围扩大一点点, 当 $(d_1,d_2) \in D\times D$ 时, 这两个流便不再交换 (回忆 $D(2) \subset D\times D$.). 这个事实引出了著名的 Lie 括号.</p>
<p>考虑映射 $\tau \colon D\times D \to M^M$, $(d_1,d_2) \mapsto Y(-d_2) \circ X(-d_1) \circ Y(d_2)  \circ X(d_1)$. 假设 $M$ 满足所谓 “强微线性” (我们尚未介绍这个概念, 但不妨先接受), 那么映射 $\tau$ 可分解为乘法 $D\times D \to D$ 和一个切向量 $D \to M^M$ 的复合. 于是有如下的定义.</p>
<p><strong>定义</strong> (Lie 括号). 向量场 $X,Y \colon D \to M^M$ 的 Lie 括号 $[X,Y]$ 是唯一满足如下条件的向量场: 对任意 $(d_1,d_2)\in D\times D$,
$$
[X,Y] (d_1d_2) = Y(-d_2) \circ X(-d_1) \circ Y(d_2)  \circ X(d_1).
$$
这表示 Lie 括号对应着一个差一点点没闭合的 “四边形” 首尾两端的差距.</p>
<p><strong>命题</strong>. Lie 括号反交换: $[Y,X]=-[X,Y]$.</p>
<p><strong>证明</strong>. 由定义, 对任意 $(d_1,d_2)\in D\times D$,
$$
\begin{aligned}
	&amp;[Y,X](d_1d_2)\\
	&amp;=X(-d_1)\circ Y(-d_2) \circ X(d_1)\circ Y(d_2)\\
	&amp;=\big(Y(-d_2)\circ X(-d_1)\circ Y(d_2)\circ X(d_1)\big)^{-1}\\
	&amp;=[X,Y](d_1d_2)^{-1}=(-[X,Y])(d_1d_2).
\end{aligned}
$$</p>
<p><strong>命题</strong> (Jacobi 恒等式). 对三个向量场 $X,Y,Z\colon D \to M^M$,
$$
[[X,Y],Z]+ [[Y,Z],X]+[[Z,X],Y]=0.
$$</p>
<p><strong>证明</strong>. 由定义, 对任意 $(d_1,d_2,d_3)\in D\times D\times D$,
$$
\begin{aligned}
	&amp;[[X,Y],Z](d_1d_2d_3)\\
	&amp;=Z(-d_3)X(-d_1)Y(-d_2)X(d_1)Y(d_2)\\
	&amp;\quad Z(d_3)Y(-d_2)X(-d_1)Y(d_2)X(d_1).
\end{aligned}
$$
(但是这个证明太长了, 我懒得写. 另一方面, 引入方向导数之后这个命题就变得显然了.)</p>
<h2>方向导数</h2>
<p>与传统微分几何一样, 切向量场可作为方向导数算子.</p>
<p>设 $X\colon M\times D \to M$ 是 $M$ 上的切向量场, $f \colon M \to R$ 是 $M$ 上的函数, 定义 $f$ 关于 $X$ 的方向导数 $X(f)$ 是唯一满足如下条件的函数:
$$
f(X(x,d)) = f(x) + d \cdot X(f)(x)\,\forall x\in M\,\forall d\in D.
$$
用范畴语言, $X(f)$ 是如下映射:
$$
M \overset{X}{\to} M^D \overset{f^D}{\to} R^D \overset{\gamma}{\to} R,
$$
其中 $\gamma \colon R^D \to R$ 是取切向量 $D \to R$ 的 “一次项”. 注意方向导数的定义没有使用微线性条件 (但是其某些性质需要微线性).</p>
<p><strong>例</strong>. $M=R$, $X(x,d)=x+d$, 此时向量场 $X$ 也记作 $\dfrac{\partial}{\partial x}$. 那么 $X(f)=f'$.</p>
<p><strong>命题</strong>. 对任意向量场 $X\colon M\times D \to M$ 与函数 $f,g\colon M \to R$,</p>
<ul>
<li>$X(af) = aX(f)\,(\forall a\in R)$;</li>
<li>$X(f+g) = X(f)+ X(g)$;</li>
<li>$X(f\cdot g) = X(f)\cdot g+f\cdot X(g)$.</li>
</ul>
<p>这是导数性质的推广. 我们证明第三个等式:
$$
\begin{aligned}
	&amp;f\cdot g(X(x,d)) \\
	&amp;= \big(f(x)+d\cdot X(f)(x)\big)\big(g(x)+d\cdot X(g)(x)\big)\\
	&amp;=(f\cdot g)(x) + d\cdot \big(X(f)(x)g(x) + f(x)X(g)(x)\big).
\end{aligned}
$$</p>
<p><strong>命题</strong>. 对任意向量场 $X,Y \colon M\times D \to M$ 与函数 $f,g \colon M \to R$,</p>
<ul>
<li>$(g\cdot X)(f) = g\cdot X(f)$;</li>
<li>$(X+Y)(f) = X(f) + Y(f)$;</li>
<li>$[X,Y](f) = X(Y(f)) -Y(X(f))$.</li>
</ul>
<p>第一个等式:
$$
\begin{aligned}
	&amp;f\big((g\cdot X) (x,d)\big)\\
	&amp;= f\big(X(x,g(x)d)\big)\\
	&amp;= f(x)+ (g(x)d)\cdot X(f)(x).
\end{aligned}
$$
第二个等式的证明略.
下面证明第三个等式. 对任意 $d_1,d_2\in D$ 与 $x_0\in M$ 考虑如下四个点 $x_1,\cdots,x_4$,
$$
x_0 \overset{X(d_1)}{\to} x_1 \overset{Y(d_2)}{\to} x_2 \overset{X(-d_1)}{\to} x_3 \overset{Y(-d_2)}{\to} x_4,
$$
那么
$$
\begin{aligned}
	f(x_4)&amp;=f(x_3)-d_2 Y(f)(x_3)\\
	&amp;=f(x_2)-d_1X(f)(x_2)-d_2Y(f)(x_3).
\end{aligned}
$$
类似地,
$$
\begin{aligned}
	f(x_0)&amp;=f(x_1)-d_1 X(f)(x_1)\\
	&amp;=f(x_2)-d_2Y(f)(x_2)-d_1X(f)(x_1).
\end{aligned}
$$
以上两式相减得
$$
\begin{aligned}
	&amp;f(x_4)-f(x_0)\\
	&amp;=d_1\big(X(f)(x_1)-X(f)(x_2)\big)\\
	&amp;\quad
	+d_2\big(Y(f)(x_2)-Y(f)(x_3)\big)\\
	&amp;=-d_1d_2 Y(X(f))(x_2)\\
	&amp;\quad {}+d_1d_2 X(Y(f))(x_2). 
\end{aligned}
$$
注意到对任意函数 $h \colon M\to R$, $d_1d_2 h(x_2) = d_1d_2 h(x_0)$, 这是因为
$$
d_2h(x_2)-d_2h(x_1)=d_2^2 Y(h) (x_1)=0,
$$
$$
d_1h(x_1)-d_1h(x_0)=d_1^2 Y(h)(x_0) = 0.
$$
由此,
$$
f(x_4)-f(x_0) = d_1d_2 \big(X(Y(f))-Y(X(f))\big)(x_0).
$$
但由 $x_4$ 以及 $[X,Y]$ 的定义,
$$
f(x_4)-f(x_0) = d_1d_2 [X,Y](f)(x_0).
$$
故我们证明了
$$
[X,Y](f) = X(Y(f)) -Y(X(f)).
$$</p>
<p><strong>例</strong>. 在 $R^n$ 上考虑向量场 $\dfrac{\partial}{\partial x_i}$, 定义为 $(x,d)\mapsto (x_1,\cdots,x_i+d,\cdots,x_n)$. 那么对任意 $i,j$, 向量场 $\dfrac{\partial}{\partial x^i},\dfrac{\partial}{\partial x^j}$ 交换, 也即两者的 Lie 括号等于 $0$.</p>
<p>下文: <span class="link local"><a href="./SDG-5-diff.html" title="综合微分几何 (5) 微分形式, 流与 Stokes 定理 [SDG-5-diff]">综合微分几何 (5) 微分形式, 流与 Stokes 定理</a></span></p>
<h2>上节习题答案</h2>
<p><strong>命题</strong>. 设 $M,N$ 是微线性对象, 证明对任意映射 $f \colon M \to N$ 与 $x\in M$, 映射
$$
d_xf \colon T_xM \to T_{f(x)}N
$$
是线性映射.</p>
<p><strong>证明</strong>. 验证映射 $d_xf$ 保持数乘是相对容易的. 我们验证 $d_x f$ 保持切向量的和. 回忆对于切向量 $t_1,t_2 \in T_xM$, 其和定义为 $t_1+t_2 = l_{t_1,t_2} \circ\Delta$, 映射 $l_{t_1,t_2} \colon D(2) \to M$ 由两个切向量唯一决定.</p>
<p>由 $l_{f\circ t_1, f\circ t_2}$ 的唯一性, 有 $l_{f\circ t_1, f\circ t_2} = f\circ l_{t_1,t_2}$. 因此
$$
\begin{aligned}
	&amp; d_x f (t_1+t_2) \\
	&amp;= f\circ (t_1+t_2)\\
	&amp;= f\circ l_{t_1,t_2} \circ \Delta\\
	&amp;= l_{f\circ t_1,f\circ t_2}\circ\Delta\\
	&amp;= f\circ t_1 + f \circ t_2\\
	&amp;= d_xf(t_1) + d_x f(t_2).\,\square
\end{aligned}
$$</p>
</details></section><section class="block" data-taxon="Meta"><details ><summary id="notes"><header><h1><span class="taxon">Meta. </span>讲稿, 笔记 <a class="slug" href="./notes.html">[notes]</a></h1><div class="metadata"><ul><li class="meta-item"><span class="link local"><a href="./SimplicialCat.html" title="单纯猫 [SimplicialCat]">SimplicialCat</a></span></li></ul></div></header></summary>
<ul>
<li><span class="link local"><a href="./EC-H1-H2.html" title="平展上同调讨论班 : 非 Abel 上同调, 主齐性空间与 Brauer 群 [EC-H1-H2]">平展上同调讨论班 : 非 Abel 上同调, 主齐性空间与 Brauer 群</a></span> (2025 年 11 月)</li>
<li><span class="link local"><a href="./ChShTrHecke.html" title="几何表示论报告 : 特征层与 Hecke 范畴的迹 [ChShTrHecke]">几何表示论报告 : 特征层与 Hecke 范畴的迹</a></span> (2025 年 12 月)</li>
<li><span class="link local"><a href="./quantumtori.html" title="量子圆环 [quantumtori]">量子圆环</a></span></li>
<li><span class="link local"><a href="./SDG-notes.html" title="综合微分几何讲稿 [SDG-notes]">综合微分几何讲稿</a></span> (2023 年 7 月)</li>
</ul>
</details></section><section class="block" data-taxon="nonmath"><details ><summary id="synthetic"><header><h1><span class="taxon"><span class="link local"><a href="./nonmath.html" title="非数学 [nonmath]">nonmath</a></span></span>综合数学是抽象代数的范畴化 <a class="slug" href="./synthetic.html">[synthetic]</a></h1><div class="metadata"><ul><li class="meta-item"><span class="link local"><a href="./SimplicialCat.html" title="单纯猫 [SimplicialCat]">SimplicialCat</a></span></li></ul></div></header></summary>
<p>2026-02-13</p>
<hr />
<p><strong>碎碎念</strong>. 这篇文章是关于数学的, 但实在太难说它本身是数学, 姑且贴上个 “非数学” 的标签, 以免受人诟病——即便身负数学严格性的重担的人, 当然也是有资格写 “非数学” 散文的. 我写这篇文章的主要目的是为<span class="link local"><a href="./综合数学.html" title="综合数学 [综合数学]">综合数学</a></span> “正名”. 但它并未被 “打倒” (实则是并未被关注), 故谈不上真正的正名; 它只是在我个人的经历中, 在登上大雅之堂的途中受到了一点阻碍, 并且消磨了我对它的热情; 而随着阅历更加丰富, 我在对几篇笔记的偶然反刍之下, 对它产生了新的见解, 不得不记录下来, 好给过去与未来的自己一个交代. 但我写这篇文章的理由未必是读者读这篇文章的理由; 站在读者的立场, 这些事情就不必赘述了.</p>
<hr />
<p>我打算不以综合数学的玄而又玄的讨论来开启这篇文章, 而是谈论些众所周知的事情. ——我们来谈论<strong>抽象代数</strong>的起源. 我们的目的不是复原历史的脉络, 而是从现代人的视角来反思抽象代数这个学科存在的理由, 然后对这个理由作一种合理的演绎 (如文章的题目所示, 这种演绎叫做<span class="link local"><a href="./范畴化.html" title="范畴化 [范畴化]">范畴化</a></span>), 来得到<span class="link local"><a href="./综合数学.html" title="综合数学 [综合数学]">综合数学</a></span>这门学科存在的理由, 这便是我想要记录的新的见解.</p>
<p>所谓代数最初即是在数的运算中, 用符号来代替数的做法. 它最初仅仅是一个从特殊到一般的过程——我们发现
$$
(3+5)^2 = 3^2 + 2\cdot 3\cdot 5 + 5^2,
$$
$$
(4+6)^2 = 4^2 + 2\cdot 4\cdot 6 + 6^2,
$$
于是我们用符号代替一些具体的元素, 写成如下形状的公式,
$$
(a+b)^2 = a^2 + 2ab + b^2,
$$
来表达对任何数普遍成立的规律.</p>
<p>然而随着数学的成熟, 一个细微的观念转变发生了——它是如此细微, 以至于学习现代数学多年的读者们可能都忘了这是一场变革: 用来表示 “一般元素” 的符号 $a,b$, 可以不再表示任何一个具体的元素, 而是变成了完全抽象的, 但仍旧遵循同样规律的东西. 我们开始操作带有这些抽象符号 $a,b$ 的等式, 而不在乎符号之下的内涵, 或者说真正的内涵已经不在那里了: 我们从对具体元素的研究转向了对规律本身的研究.</p>
<p>于是, “<span class="link local"><a href="./结合代数.html" title="结合代数 [结合代数]">代数</a></span>” 的概念产生了. 一个代数是一些元素的集合, 元素之间可作加法, 乘法等运算, 满足交换律, 结合律, 分配律等性质. 如果仅研究这些运算的规律, 而不依赖于参与运算的元素具体的构造, 那么我们作出的论证就适用于任何一个代数. (若读者有微分几何的相关经验: 这就像是微分几何中若不使用坐标进行计算, 那么计算的结果就适用于任何坐标.) 放弃对一个锚定的具体事物的追求, 反而换来了特殊化到所有具体事物的机会.</p>
<p>学习现代数学多年的读者们, 可能难以体会 “代数” 这样的概念对一个仅学过实数的运算的人有多么陌生.
困难并不在于人的智力不能理解代数的定义, 而在于他们长久以来的信念的动摇: 原来我所认识的这个数的系统不是唯一存在的, 唯一合理的数的系统; 事实恰恰相反, 这种系统要多少就有多少. 例如在一个代数中, 我们可以随心所欲地加入一个满足指定的代数方程的元素. 回想历史上人们对虚数 $i$ 的引入曾产生多么大的抵触: 在实数中加入一个满足 $i^2 = -1$ 的元素, 而这个方程在实数中没有任何道理.
人们不是不能对这个方程进行运算, 而是不能接受自古以来熟悉的系统, 实数的代数 $\mathbb{R}$, 被外来者污染, 以至于失去它不可撼动的地位.</p>
<p>当然, 现在的人们早已不再对各式各样的代数产生恐慌. 复代数几何的基础 $\mathbb{C}$, $p$-进几何的基础 $\mathbb{Z}_p$, 已经是每一个数学家如数家珍的代数对象. 人们研究的代数中的运算也不断丰富, Lie 代数, Poisson 代数, Hopf 代数, … 这些结构在各自的领域中发光发热.</p>
<p>总结从研究实数的运算到研究抽象代数发生的观念转变:</p>
<ul>
<li>一个<strong>代数</strong>是一个带有结构的<strong>集合</strong>, “实数” 不过是那个特殊的代数 $\mathbb{R}$ 的元素;</li>
<li>通过<strong>四则运算</strong>, 我们不仅是在研究实数的规律, 而且可以研究任何代数中的规律, 不依赖于这些集合中元素的具体形式.</li>
</ul>
<p>现在提升一个范畴层级, 看看集合范畴 $\mathsf{Set}$ 的性质. 它不是一个赤裸的范畴, 正如 $\mathbb{R}$ 不是一个赤裸的集合. 它的对象 (也就是集合) 之间有加法 $+$ 和乘法 $\times$ 的运算:
$A+B$ 是两个集合的无交并, 其元素为 $l(a)$ 或 $r(b)$; $A\times B$ 是两个集合的积, 其元素为 $(a,b)$. 加法和乘法都有交换律, 结合律: $A+B\simeq B+A$, $(A+B)+C\simeq A+(B+C)$ 等等. 乘法对加法有分配律: $A\times (B+C) \simeq A\times B + A\times C$. 由此可得
$$
(A+B)^2 \simeq A^2 + 2 \times A\times B + B^2.
$$
很多时候我们对于集合的操作表面上是在操作集合的元素, 实际上是在操作范畴论结构. 例如, 对于映射 $f\colon A\to B$ 以及 $b\in B$, 取出 $A$ 中满足 $f(a) = b$ 的元素 $a$ 构成的集合 $S = \{a\in A\mid f(a) = b\}$, 实际上是在做范畴论中名为<span class="link local"><a href="./拉回.html" title="拉回 (范畴论) [拉回]">拉回</a></span>的操作:
$$
\begin{array}
    {ccc}
    S &amp; \to &amp; 1\\
    \downarrow &amp; &amp; \downarrow\\
    A &amp; \underset{f}{\to} &amp; B.
\end{array}
$$
由此可见, 只要一个范畴中具有拉回, 那么 $\{a\in A\mid f(a) = b\}$ 这样的表达式就有意义, 而不需要对象 $A$ 真的是由一个一个的元素组成.</p>
<p>任意量词 $\forall$ 和存在量词 $\exists$ 也不是只在集合范畴中有意义. 它们分别是<span class="link local"><a href="./依值积.html" title="依值积 [依值积]">依值积</a></span>, <span class="link local"><a href="./依值和.html" title="依值和 [依值和]">依值和</a></span>的特例, 而这两者分别是拉回操作 $\mathcal{C}_{/Y} \to \mathcal{C}_{/X}$ 的左右伴随.</p>
<p>经过如此多的铺垫, 如果我现在告诉读者, 我们自古以来熟悉的这个集合范畴, 并不是唯一存在的, 唯一合理的 “集合的范畴”, 我们使用的数学语言描述的不一定是集合, 而可能是任何适当结构的范畴的对象, 不知读者是否还会像只熟悉实数的古人见到虚数那样感到恐慌.</p>
<p>更关键的是, 就像在抽象代数中我们不需要关心<strong>集合</strong>中的<strong>元素</strong>的具体构造一样, 在综合数学中我们不需要关心<strong>范畴</strong>中的<strong>对象</strong>的具体构造, 这便是综合数学的核心观念; 这种观念无非是抽象代数的核心观念的一次范畴化.</p>
<p>将集合范畴 $\mathsf{Set}$ 的性质抽象出来, 得到一种允许通常数学语言在其中获得语义的范畴的概念, 这就是<span class="link local"><a href="./意象.html" title="意象 [意象]">意象</a></span>.</p>
<p>在以<span class="link local"><a href="./意象理论.html" title="意象理论 [意象理论]">意象理论</a></span>为主要表现方式的<span class="link local"><a href="./综合数学.html" title="综合数学 [综合数学]">综合数学</a></span>中,</p>
<ul>
<li>一个<strong></strong><span class="link local"><a href="./意象.html" title="意象 [意象]">意象</a></span>是一个带有结构的<strong>范畴</strong>, “集合” 不过是那个最基本的意象 $\mathsf{Set}$ 的对象;</li>
<li>通过<strong></strong><span class="link local"><a href="./一阶语言.html" title="一阶语言与一阶逻辑 [一阶语言]">一阶逻辑</a></span>, 我们不仅是在研究集合的规律, 而且可以研究任何<span class="link local"><a href="./意象.html" title="意象 [意象]">意象</a></span>中的规律, 不依赖于这些范畴中对象的具体形式.</li>
</ul>
<p>我们认为的 “带结构的集合”, 不过是最基本的<span class="link local"><a href="./意象.html" title="意象 [意象]">意象</a></span> $\mathsf{Set}$ 中的结构; 而同样的结构发生在任何一个意象中.</p>
<p>换言之, 随着范畴层级的提升, 我们发现自己从那个 “思想开放” 的 “现代人”, 变成了 “抱残守缺” 的 “古人”.</p>
<p>综合数学的一个出现较早的分支是<span class="link local"><a href="./综合微分几何.html" title="综合微分几何 [综合微分几何]">综合微分几何</a></span>. 它的理论是这样建立的: 首先规定存在一个对象, 称为直线 $R$; 它具有 $0,1$, 加法和乘法, 构成一个代数. 定义<span class="link local"><a href="./一阶无穷小线段.html" title="一阶无穷小线段 [一阶无穷小线段]">一阶无穷小线段</a></span> $D$ 是 $R$ 中平方为零的元素的 “集合”
$$
D = \{x\in R \mid x^2 = 0\}.
$$
一条重要的公理是: 对任意函数 $f\colon D\to R$, 存在唯一的 $a,b\in R$ 满足对任意 $d\in D$, 有 $f(d) = ad+b$. 对任意 “集合” $M$, 定义其切向量为映射 $v\colon D \to M$; 定义 $M$ 的切丛为 $M^D \to M,v\mapsto v(0)$. 微分几何最重要的概念就这样产生了.</p>
<p>如果认为上述理论谈论的是普通的集合范畴, 就会发现它简直是天方夜谭. 实直线上平方为零的元素只有 $0$, 又怎能表达切向量这样的概念呢? 感兴趣的读者可以进一步阅读<span class="link local"><a href="./SDG-notes.html" title="综合微分几何讲稿 [SDG-notes]">综合微分几何讲稿</a></span>. 结论是, 我们应当认为综合微分几何谈论的是一种满足特定条件的<span class="link local"><a href="./意象.html" title="意象 [意象]">意象</a></span>中的对象. 综合数学的每一个分支, 都可视为对所讨论的意象作某种约束. 任何一个满足约束的意象都可以作为这个学科的模型, 而这个学科所产生的定理在所有模型中同样成立.</p>
<p>我将目前的类比总结成一个表格.</p>
<table><thead><tr><th>范畴层级</th><th>0</th><th>1</th></tr></thead><tbody>
<tr><td>对象</td><td>实数</td><td>集合</td></tr>
<tr><td>语言</td><td>四则运算</td><td><span class="link local"><a href="./一阶语言.html" title="一阶语言与一阶逻辑 [一阶语言]">一阶语言</a></span></td></tr>
<tr><td>全体对象</td><td>实数的全体 $\mathbb{R}$</td><td>集合的全体 $\mathsf{Set}$</td></tr>
<tr><td>抽象概念</td><td>代数 <br> = 带结构的集合</td><td><span class="link local"><a href="./意象.html" title="意象 [意象]">意象</a></span> <br> = 带结构的范畴<sup class="footnote-reference" id="synthetic_1-back"><a href="#synthetic_1">1</a></sup></td></tr>
<tr><td>约束</td><td>代数方程</td><td>公理</td></tr>
</tbody></table>
<div class="footnote-definition" id="synthetic_1">
  <sup class="footnote-definition-label"><a href="#synthetic_1-back">1</a></sup>
<p>其实一个范畴构成一个意象这件事是<span class="link local"><a href="./结构.html" title="结构, 性质 [结构]">性质而非结构</a></span>. 不过这里的结构与 “<span class="link local"><a href="./积幺半范畴.html" title="积幺半范畴 [积幺半范畴]">积幺半结构</a></span>” 中的结构是同一种用法.</p>
</div>
<p>表格有没有可能向右延申? 有没有可能, 范畴的 $2$-范畴 $\mathsf{Cat}$ 不是唯一合理的 “范畴的范畴”, 而是所有的范畴论语言都可以在一个 “$2$-意象” 中解读? 这种语言该如何设计? 我不知道.</p>
</details></section><section class="block" data-taxon="subject"><details ><summary id="综合微分几何"><header><h1><span class="taxon"><span class="link local"><a href="./subject.html" title="学科 [subject]">subject</a></span></span>综合微分几何 <a class="slug" href="./综合微分几何.html">[综合微分几何]</a></h1><div class="metadata"><ul><li class="meta-item"><span class="link local"><a href="./SimplicialCat.html" title="单纯猫 [SimplicialCat]">SimplicialCat</a></span></li></ul></div></header></summary>
<p>综合微分几何是<span class="link local"><a href="./综合数学.html" title="综合数学 [综合数学]">综合数学</a></span>的微分几何的分支.</p>
<p>综合微分几何的模型一般是一个包含光滑流形和一些微分几何关心的<span class="link local"><a href="./无穷小空间.html" title="无穷小对象 (综合微分几何) [无穷小空间]">无穷小对象</a></span>的<span class="link local"><a href="./意象.html" title="意象 [意象]">意象</a></span>, 即其语言可理解为该意象的<span class="link local"><a href="./意象的内语言.html" title="意象的内语言 [意象的内语言]">内语言</a></span>.</p>
<p><span class="link local"><a href="./SDG-notes.html" title="综合微分几何讲稿 [SDG-notes]">综合微分几何讲稿</a></span></p>
<p>todo: 重写</p>
<p>综合微分几何使用无穷小的空间, 以无坐标的方式, 将 “微分” 的过程变成纯粹的代数.</p>
<p>综合微分几何的公理始于<span class="link local"><a href="./环化意象.html" title="“环化意象” [环化意象]">环化意象</a></span> $(\mathcal E,R)$. <span class="link local"><a href="./无穷小空间.html" title="无穷小对象 (综合微分几何) [无穷小空间]">无穷小空间</a></span>引入了 $k$-阶<span class="link local"><a href="./相邻.html" title="“相邻” [相邻]">相邻</a></span> $(k=0,1,2,\cdots)$ 的概念, 这个关系在所有映射下不变.</p>
<h2>开集的概念</h2>
<p>我们在 $R$ 上公理化地定义开集, 其中最重要的是要求可逆元的集合 $R^*$ 是开集.</p>
<p>具体地, 我们假定在 $\mathcal E$ 的所有态射中 (先天) 给定了一类态射, 称作 “开含入” (open inclusions), 满足<strong>拉回之下的稳定性</strong> (stability under pullback), 且 $R$ 的可逆元集合到 $R$ 的含入是开含入.</p>
<blockquote>
<p>开集的概念有多种不同的选择. 内蕴 (intrinsic) 地定义开集是有可能的, 例如下面讲的形式开; 但形式开的概念会使得 $R$ 不连通. 还有另外一种内蕴的开集的概念, 不会让 $R$ 不连通, 但更复杂.</p>
</blockquote>
<p>有了开集, 就可以谈论局部的概念. <strong>流形</strong>是局部微分同胚于向量空间的空间, 即存在一族空间 $\{U_i: i\in I\}$ 与开含入 $U_i\to M$, $U_i\to R^n$, 且所有 $U_i\to M$ 合在一起是满的.</p>
<blockquote>
<p>注意, 流形的概念不仅依赖于 “开集” 的概念, 还依赖于 “族” 的概念. 这里指标集 $I$ 是一个外蕴 (external) 的集合, 而不是 $\mathcal E$ 中的空间.</p>
</blockquote>
<p>我们假设开集都是 “形式开” 的. 称子集 $M\subset R^n$ <strong>形式开</strong> (formally open) 是指, 若 $a\in M$, $x$ 无穷小, 则 $a+x\in M$. 在综合微分几何中 “开” 的概念常常需要替换为形式开.</p>
<h2>微积分</h2>
<p>在综合微分几何中, 微分的技术建立在 <span class="link local"><a href="./KL公理.html" title="Kock–Lawvere 公理 [KL公理]">KL 公理</a></span>之上. KL 公理大致是说<span class="link local"><a href="./无穷小空间.html" title="无穷小对象 (综合微分几何) [无穷小空间]">无穷小空间</a></span>出发的映射都是多项式.</p>
</details></section></details></section></footer></article>

</div></body></html>